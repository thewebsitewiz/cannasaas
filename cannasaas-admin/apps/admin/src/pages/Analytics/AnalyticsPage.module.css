/**
 * @file AnalyticsPage.module.css
 * @path apps/admin/src/pages/Analytics/
 */
.page { display: flex; flex-direction: column; flex: 1; }
.content { padding: var(--ca-space-6); flex: 1; }
.headerActions { display: flex; align-items: center; gap: var(--ca-space-3); flex-wrap: wrap; }
/* Range selector */
.rangeGroup { border: none; margin: 0; padding: 0; }
.rangeButtons { display: flex; gap: 2px; background: var(--ca-surface-raised); border: 1px solid var(--ca-border); border-radius: var(--ca-radius-md); padding: 3px; }
.rangeBtn { padding: var(--ca-space-1-5) var(--ca-space-3); background: transparent; border: none; border-radius: 6px; color: var(--ca-text-muted); font-family: var(--ca-font-body); font-size: 0.78rem; font-weight: 500; cursor: pointer; min-height: 32px; transition: background 130ms ease; }
.rangeBtn:hover { color: var(--ca-text-primary); }
.rangeBtnActive { background: var(--ca-surface-elevated) !important; color: var(--ca-accent) !important; font-weight: 600; box-shadow: var(--ca-shadow-sm); }
.rangeBtn:focus-visible { outline: 2px solid var(--ca-accent); outline-offset: 1px; }
/* Export */
.exportBtn { display: inline-flex; align-items: center; gap: var(--ca-space-1-5); padding: var(--ca-space-2) var(--ca-space-3-5); background: var(--ca-surface-elevated); border: 1.5px solid var(--ca-border-strong); border-radius: var(--ca-radius-md); color: var(--ca-text-secondary); font-family: var(--ca-font-body); font-size: 0.82rem; font-weight: 600; cursor: pointer; transition: background 130ms ease; min-height: 36px; }
.exportBtn:hover:not(:disabled) { background: var(--ca-surface-hover); }
.exportBtn:focus-visible { outline: 2px solid var(--ca-accent); outline-offset: 2px; }
.exportBtn:disabled { opacity: 0.5; cursor: not-allowed; }
.btnSpinner { display: block; width: 12px; height: 12px; border: 2px solid var(--ca-border); border-top-color: var(--ca-accent); border-radius: 50%; animation: spin 600ms linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }
/* Charts grid */
.chartsGrid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--ca-space-5); }
.fullWidth { grid-column: 1 / -1; }
.chartSection { background: var(--ca-surface-elevated); border: 1px solid var(--ca-border); border-radius: var(--ca-radius-xl); padding: var(--ca-space-5); display: flex; flex-direction: column; gap: var(--ca-space-4); }
.chartTitle { margin: 0; font-family: var(--ca-font-display); font-size: 1rem; font-weight: 700; color: var(--ca-text-primary); }
/* Data table fallback */
.tableDetails { }
.tableSummary { font-size: 0.75rem; color: var(--ca-text-muted); cursor: pointer; padding: var(--ca-space-1) 0; }
.tableSummary:focus-visible { outline: 2px solid var(--ca-accent); outline-offset: 2px; border-radius: 2px; }
.tableWrapper { overflow-x: auto; margin-top: var(--ca-space-2); }
.dataTable { width: 100%; border-collapse: collapse; font-size: 0.82rem; font-family: var(--ca-font-body); }
.dataTable th, .dataTable td { padding: var(--ca-space-2) var(--ca-space-3); text-align: left; border-bottom: 1px solid var(--ca-border); }
.dataTable th { font-weight: 600; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.06em; color: var(--ca-text-muted); }
/* Funnel */
.funnelChart { display: flex; flex-direction: column; gap: var(--ca-space-3); padding: var(--ca-space-2) 0; }
.funnelStep { display: grid; grid-template-columns: 140px 1fr 80px; gap: var(--ca-space-3); align-items: center; }
.funnelLabel { font-size: 0.82rem; color: var(--ca-text-secondary); font-weight: 500; }
.funnelBar { height: 24px; background: var(--ca-surface-raised); border-radius: var(--ca-radius-full); overflow: hidden; }
.funnelFill { height: 100%; background: linear-gradient(90deg, #2D6A4F, #52B788); border-radius: var(--ca-radius-full); transition: width 600ms cubic-bezier(0.4, 0, 0.2, 1); }
.funnelStats { display: flex; flex-direction: column; gap: 1px; text-align: right; }
.funnelStats span { font-size: 0.78rem; color: var(--ca-text-secondary); font-variant-numeric: tabular-nums; }
.funnelPct { color: var(--ca-text-muted); font-size: 0.72rem; }
/* Loading */
.loadingGrid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--ca-space-5); }
.skeletonSection { height: 300px; background: linear-gradient(90deg, var(--ca-skeleton-base) 25%, var(--ca-skeleton-highlight) 50%, var(--ca-skeleton-base) 75%); background-size: 200% 100%; border-radius: var(--ca-radius-xl); animation: shimmer 1.4s ease-in-out infinite; }
@keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
.errorMsg { color: var(--ca-error); text-align: center; padding: var(--ca-space-8); }
.srOnly { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
@media (max-width: 1024px) { .chartsGrid, .loadingGrid { grid-template-columns: 1fr; } }
@media (max-width: 640px) { .content { padding: var(--ca-space-4); } .funnelStep { grid-template-columns: 100px 1fr 60px; } }
@media (prefers-reduced-motion: reduce) { .funnelFill, .rangeBtn, .exportBtn { transition: none; } .btnSpinner, .skeletonSection { animation: none; } }

